(function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],u=0,f=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(f.length)f.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},o={app:0},n=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("85ec"),o=r.n(a);o.a},"09d5":function(e,t,r){"use strict";var a=r("27f3"),o=r.n(a);o.a},1:function(e,t){},"140d":function(e,t,r){"use strict";var a=r("734c"),o=r.n(a);o.a},"1be9":function(e,t,r){},"27f3":function(e,t,r){},"31eb":function(e,t,r){"use strict";var a=r("1be9"),o=r.n(a);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("4de4"),r("fb6a"),r("d3b7"),r("25f0"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=r("28dd"),n=r("730f"),s=r.n(n),i=r("5887"),l=r.n(i),c=(r("39d0"),r("a4d3"),r("e01a"),r("d28b"),r("3ca3"),r("ddb0"),r("2f62"));a["default"].use(c["a"]);var d=new c["a"].Store({state:{orders:[],fulfillmentsOption:[{label:"Unfulfilled",value:"Unfulfilled"},{label:"Ecourier Inside Dhaka",value:"Ecourier Inside Dhaka"},{label:"Ecourier Outside Dhaka",value:"Ecourier Outside Dhaka"},{label:"Pathao Inside Dhaka",value:"Pathao Inside Dhaka"},{label:"Pathao Outside Dhaka",value:"Pathao Outside Dhaka"},{label:"Sundarban Inside Dhaka",value:"Sundarban Inside Dhaka"},{label:"Sundarban Outside Dhaka",value:"Sundarban Outside Dhaka"}]},getters:{orders:function(e){return e.orders},fulfillments:function(e){return e.fulfillmentsOption}},mutations:{setOrders:function(e,t){e.orders=t},updateOrder:function(e,t){var r=!0,a=!1,o=void 0;try{for(var n,s=e.orders[Symbol.iterator]();!(r=(n=s.next()).done);r=!0){var i=n.value;if(i.id===t.order.id)return i.fulfillment_status=t.order.fulfillment_status,void(i.fulfilled_by=t.order.fulfilled_by)}}catch(l){a=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}},actions:{setOrders:function(e,t){var r=e.commit;r("setOrders",t)},updateOrder:function(e,t){var r=e.commit;r("updateOrder",t)}}}),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"app-container"},[r("header",[r("div",{staticClass:"header-container"},[r("div",{staticClass:"heading"},[r("polaris-display-text",{attrs:{element:"h1",size:"large"}},[e._v("Orders")])],1),r("div",{staticClass:"quick-links",on:{click:e.showModal}},[r("polaris-display-text",{staticClass:"export-btn"},[r("span",[r("polaris-icon",{staticClass:"export-icon",attrs:{"accessibility-label":"Example icon",source:'<svg class="Polaris-Icon__Svg" viewBox="0 0 20 20"><path d="M13.707 10.707a.997.997 0 0 1-1.414 0L11 9.414V17a1 1 0 1 1-2 0V9.414l-1.293 1.293a.999.999 0 1 1-1.414-1.414l3-3a.999.999 0 0 1 1.414 0l3 3a.999.999 0 0 1 0 1.414zM17 2a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h-3a1 1 0 1 1 0-2h2V4H4v9h2a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14z" fill-rule="evenodd"></path></svg>'}})],1),e._v("Generate Order")])],1)])]),r("main",[r("Orders")],1),r("section",[r("GenerateComponent",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],on:{close:e.closeModal},scopedSlots:e._u([{key:"header",fn:function(){return[r("polaris-heading",[e._v("Generate Report")])]},proxy:!0},{key:"body",fn:function(){return[r("polaris-callout-card",{attrs:{title:"Generate report by date range",illustration:"https://cdn.shopify.com/s/assets/admin/checkout/settings-customizecart-705f57c725ac05be5a34ec20c05b94298cb8afd10aac7bd9c7ad02030f48cfa0.svg","primary-action":{content:"Generate Report",onAction:e.generateReportByDate}}},[r("vc-date-picker",{attrs:{mode:"range","input-props":{placeholder:"Please select a date range"},popover:{placement:"bottom",visibility:"click"}},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),r("polaris-callout-card",{attrs:{title:"Generate report for all order from your store",illustration:"https://cdn.shopify.com/s/assets/admin/checkout/settings-customizecart-705f57c725ac05be5a34ec20c05b94298cb8afd10aac7bd9c7ad02030f48cfa0.svg","primary-action":{content:"Generate Report",onAction:e.generateReport}}}),r("div",{staticClass:"download"},[r("polaris-banner",{directives:[{name:"show",rawName:"v-show",value:e.download.downloadable,expression:"download.downloadable"}],attrs:{title:"Report Generated",status:"success"}},[r("p",[r("polaris-link",{attrs:{url:e.download.link,external:""}},[e._v("Click here")]),e._v(" to download your generated report")],1)])],1)]},proxy:!0}])})],1),r("footer",[r("polaris-footer-help",{directives:[{name:"show",rawName:"v-show",value:e.download.downloadable,expression:"download.downloadable"}]},[e._v(" Download your generated report from "),r("polaris-link",{attrs:{url:e.download.link,external:""}},[e._v("here")]),e._v(". ")],1)],1)])])},f=[],p=(r("e439"),r("dbb4"),r("b64b"),r("9911"),r("159b"),r("ade3")),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("polaris-card",[r("polaris-card-section",[r("div",{staticClass:"list-head"},[r("div",{staticClass:"resource-list-header"},[r("div",{staticClass:"resource-list-container"},[r("div",{staticClass:"header-item-wrapper"},[r("div",{staticClass:"header-grid"},[r("div",{staticClass:"order"},[e._v("Order")]),r("div",{staticClass:"date"},[e._v("Date")]),r("div",{staticClass:"customer"},[e._v("Customer")]),r("div",{staticClass:"payment"},[e._v("Payment")]),r("div",{staticClass:"fulfillment"},[e._v("Fulfillment")]),r("div",{staticClass:"fulfilled-by"},[e._v("Fulfilled by")]),r("div",{staticClass:"total"},[e._v("Total")])])])])])]),r("div",{staticClass:"list-container"},[0!==e.orders.length?r("ul",{staticClass:"item-list"},e._l(e.orders,(function(e){return r("li",{key:e.id,staticClass:"list-item"},[r("Order",{attrs:{order:e}})],1)})),0):e._e()])])],1)],1)},h=[],v=(r("99af"),r("e25e"),r("53ca")),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",{staticClass:"modal-header"},[e._t("header",[e._v(" This is default title ")]),a("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close modal"},on:{click:e.close}},[a("img",{attrs:{src:r("bf37"),width:"12px",height:"12px",alt:""}})])],2),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[e._t("body",[e._v("This is default body")])],2)])])])])},y=[],O={name:"modal",methods:{close:function(){this.$emit("close")}}},g=O,w=(r("140d"),r("2877")),_=Object(w["a"])(g,m,y,!1,null,"70f4f6dc",null),j=_.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item-wrapper"},[r("a",{attrs:{href:"/"}}),r("div",{staticClass:"item-content"},[r("div",[r("div",{staticClass:"item-grid"},[r("div",{staticClass:"order grid-item"},[r("span",[r("a",{attrs:{href:"/"}},[r("span",[e._v(e._s(e.order.name))])])])]),r("div",{staticClass:"order-date grid-item"},[r("div",[e._v(e._s(e.order.created_at))])]),r("div",{staticClass:"customer grid-item"},[r("div",[e._v(e._s((e.order.customer?e.order.customer.first_name:"")+" "+(e.order.customer?e.order.customer.last_name:"")))]),r("div",{staticClass:"customer-link"})]),r("div",{staticClass:"payment grid-item"},[r("polaris-badge",{attrs:{status:"PENDING"===e.order.payment_status?"warning":"default"}},[e._v(e._s(e._f("capitalize")(e.order.payment_status)))])],1),r("div",{staticClass:"fulfillment grid-item"},[r("polaris-badge",{attrs:{status:"UNFULFILLED"===e.order.fulfillment_status?"attention":"default"}},[e._v(e._s(e._f("capitalize")(e.order.fulfillment_status)))])],1),r("div",{staticClass:"total grid-item"},[r("span",[e._v("$ "+e._s(e.order.total_price))])]),r("div",{staticClass:"fulfilled-by grid-item"},[r("polaris-select",{attrs:{options:e.fulfillments,placeholder:"Select a courier"},model:{value:e.selectedCourier,callback:function(t){e.selectedCourier=t},expression:"selectedCourier"}})],1)])])])])},k=[];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(p["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={props:["order"],data:function(){return{selectedCourier:""}},computed:D({},Object(c["c"])(["fulfillments"])),methods:D({},Object(c["b"])(["updateOrder"]),{watchSelectedCourier:function(e){var t=this,r=D({},this.order,{fulfilled_by_courier:e});this.$http.post("/fulfillment/set-courier",r).then((function(e){var r={order:D({id:t.order.id},e.body)};console.log(e.body),console.log(r),t.updateOrder(r)})).catch((function(e){console.log(e)}))}}),mounted:function(){this.selectedCourier=this.order.fulfilled_by?this.order.fulfilled_by:"Unfulfilled",this.$watch("selectedCourier",this.watchSelectedCourier)}},S=x,E=(r("09d5"),Object(w["a"])(S,C,k,!1,null,"92cdf942",null)),R=E.exports;function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Object(p["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G={data:function(){return{disabled:!1}},components:{Modal:j,Order:R},computed:M({},Object(c["c"])(["orders"])),methods:{dateFormater:function(e){return e?"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()):null},onFulfillChange:function(e,t){console.log("From Vue",Object(v["a"])(t)),this.$http.post("https://yellow-report.herokuapp.com/save",{order_id:parseInt(t),fulfillment_by:e}).then((function(e){})).catch((function(e){return console.log(e)}))}}},I=G,z=(r("31eb"),Object(w["a"])(I,b,h,!1,null,"a8ed8bec",null)),F=z.exports;function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(p["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U={name:"app",data:function(){return{show:!1,dateRange:{start:null,end:null},download:{downloadable:!1,link:""}}},components:{Orders:F,GenerateComponent:j},computed:N({},Object(c["c"])(["orders"])),methods:N({},Object(c["b"])(["setOrders"]),{showModal:function(){this.show=!0},closeModal:function(){this.show=!1,this.dateRange.start=null,this.dateRange.end=null},generateReportByDate:function(){var e=this;this.download.downloadable=!1,this.download.link="";var t={startDate:this.dateRange.start,endDate:this.dateRange.end};if(!this.dateRange.start&&!this.dateRange.end)throw new Error("Please select a date range");this.$http.post("/orders/generate-report",t).then((function(t){e.download.downloadable=!0,e.download.link=t.body.download_link})).catch((function(e){console.log(e)}))},generateReport:function(){var e=this;this.download.downloadable=!1,this.download.link="",this.$http.post("/orders/generate-report",{}).then((function(t){e.download.downloadable=!0,e.download.link=t.body.download_link})).catch((function(e){console.log(e)}))}}),mounted:function(){var e=this;this.$http.get("/orders/get-orders").then((function(t){e.setOrders(t.body)}))}},L=U,V=(r("034f"),Object(w["a"])(L,u,f,!1,null,null,null)),A=V.exports;a["default"].config.productionTip=!1,a["default"].use(o["a"]),a["default"].use(s.a),a["default"].use(l.a,{componentPrefix:"vc"}),a["default"].filter("capitalize",(function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()):""})),new a["default"]({store:d,render:function(e){return e(A)}}).$mount("#app")},"734c":function(e,t,r){},"85ec":function(e,t,r){},bf37:function(e,t,r){e.exports=r.p+"icons/close.svg"}});
//# sourceMappingURL=app.27e9fe0c.js.map