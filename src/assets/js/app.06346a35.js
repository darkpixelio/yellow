(function(e){function t(t){for(var a,n,i=t[0],l=t[1],d=t[2],u=0,f=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&f.push(o[n][0]),o[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(f.length)f.shift()();return s.push.apply(s,d||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(a=!1)}a&&(s.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},o={app:0},s=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("85ec"),o=r.n(a);o.a},1:function(e,t){},"140d":function(e,t,r){"use strict";var a=r("734c"),o=r.n(a);o.a},"352b":function(e,t,r){"use strict";var a=r("e353"),o=r.n(a);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("4de4"),r("fb6a"),r("d3b7"),r("25f0"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=r("28dd"),s=r("730f"),n=r.n(s),i=r("5887"),l=r.n(i),d=(r("39d0"),r("a4d3"),r("e01a"),r("d28b"),r("3ca3"),r("ddb0"),r("2f62"));a["default"].use(d["a"]);var c=new d["a"].Store({state:{orders:[],fulfillmentsOption:[{label:"Unfulfilled",value:"Unfulfilled"},{label:"Ecourier Inside Dhaka",value:"Ecourier Inside Dhaka"},{label:"Ecourier Outside Dhaka",value:"Ecourier Outside Dhaka"},{label:"Pathao Inside Dhaka",value:"Pathao Inside Dhaka"},{label:"Pathao Outside Dhaka",value:"Pathao Outside Dhaka"},{label:"Sundarban Inside Dhaka",value:"Sundarban Inside Dhaka"},{label:"Sundarban Outside Dhaka",value:"Sundarban Outside Dhaka"}],orderStatusOptions:[{label:"Incomplete",value:"incomplete"},{label:"Completed",value:"completed"}]},getters:{orders:function(e){return e.orders},fulfillments:function(e){return e.fulfillmentsOption},orderStatusOptions:function(e){return e.orderStatusOptions}},mutations:{setOrders:function(e,t){e.orders=t},updateOrder:function(e,t){var r=!0,a=!1,o=void 0;try{for(var s,n=e.orders[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var i=s.value;if(i.id===t.order.id)return i.fulfilled_by=t.order.fulfilled_by,i.fulfilled_by_id=t.order.fulfilled_by_id,i.order_status=t.order.order_status,i.order_status_id=t.order.order_status_id,i.fulfillment_status=t.order.fulfillment_status,void(i.fulfillment_order_id=t.order.fulfillment_order_id)}}catch(l){a=!0,o=l}finally{try{r||null==n.return||n.return()}finally{if(a)throw o}}}},actions:{setOrders:function(e,t){var r=e.commit;r("setOrders",t)},updateOrder:function(e,t){var r=e.commit;r("updateOrder",t)}}}),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"app-container"},[r("header",[r("div",{staticClass:"header-container"},[r("div",{staticClass:"heading"},[r("polaris-display-text",{attrs:{element:"h1",size:"large"}},[e._v("Orders")])],1),r("div",{staticClass:"quick-links",on:{click:e.showModal}},[r("polaris-display-text",{staticClass:"export-btn"},[r("span",[r("polaris-icon",{staticClass:"export-icon",attrs:{"accessibility-label":"Example icon",source:'<svg class="Polaris-Icon__Svg" viewBox="0 0 20 20"><path d="M13.707 10.707a.997.997 0 0 1-1.414 0L11 9.414V17a1 1 0 1 1-2 0V9.414l-1.293 1.293a.999.999 0 1 1-1.414-1.414l3-3a.999.999 0 0 1 1.414 0l3 3a.999.999 0 0 1 0 1.414zM17 2a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h-3a1 1 0 1 1 0-2h2V4H4v9h2a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14z" fill-rule="evenodd"></path></svg>'}})],1),e._v("Generate Order")])],1)])]),r("main",[r("Orders")],1),r("section",[r("GenerateComponent",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],on:{close:e.closeModal},scopedSlots:e._u([{key:"header",fn:function(){return[r("polaris-heading",[e._v("Generate Report")])]},proxy:!0},{key:"body",fn:function(){return[r("polaris-callout-card",{attrs:{title:"Generate report by date range",illustration:"https://cdn.shopify.com/s/assets/admin/checkout/settings-customizecart-705f57c725ac05be5a34ec20c05b94298cb8afd10aac7bd9c7ad02030f48cfa0.svg","primary-action":{content:"Generate Report",onAction:e.generateReportByDate}}},[r("vc-date-picker",{attrs:{mode:"range","input-props":{placeholder:"Please select a date range"},popover:{placement:"bottom",visibility:"click"}},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),r("polaris-callout-card",{attrs:{title:"Generate report for all order from your store",illustration:"https://cdn.shopify.com/s/assets/admin/checkout/settings-customizecart-705f57c725ac05be5a34ec20c05b94298cb8afd10aac7bd9c7ad02030f48cfa0.svg","primary-action":{content:"Generate Report",onAction:e.generateReport}}}),r("div",{staticClass:"download"},[r("polaris-banner",{directives:[{name:"show",rawName:"v-show",value:e.download.downloadable,expression:"download.downloadable"}],attrs:{title:"Report Generated",status:"success"}},[r("p",[r("polaris-link",{attrs:{url:e.download.link,external:""}},[e._v("Click here")]),e._v(" to download your generated report")],1)])],1)]},proxy:!0}])})],1),r("footer",[r("polaris-footer-help",{directives:[{name:"show",rawName:"v-show",value:e.download.downloadable,expression:"download.downloadable"}]},[e._v(" Download your generated report from "),r("polaris-link",{attrs:{url:e.download.link,external:""}},[e._v("here")]),e._v(". ")],1)],1)])])},f=[],p=(r("e439"),r("dbb4"),r("b64b"),r("9911"),r("159b"),r("ade3")),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("polaris-card",[r("polaris-card-section",[r("div",{staticClass:"list-head"},[r("div",{staticClass:"resource-list-header"},[r("div",{staticClass:"resource-list-container"},[r("div",{staticClass:"header-item-wrapper"},[r("div",{staticClass:"header-grid"},[r("div",{staticClass:"order"},[e._v("Order")]),r("div",{staticClass:"date"},[e._v("Date")]),r("div",{staticClass:"customer"},[e._v("Customer")]),r("div",{staticClass:"payment"},[e._v("Payment")]),r("div",{staticClass:"fulfillment"},[e._v("Fulfillment")]),r("div",{staticClass:"fulfilled-by"},[e._v("Fulfilled by")]),r("div",{staticClass:"order-status"},[e._v("Order Status")]),r("div",{staticClass:"total"},[e._v("Total")])])])])])]),r("div",{staticClass:"list-container"},[0!==e.orders.length?r("ul",{staticClass:"item-list"},e._l(e.orders,(function(e){return r("li",{key:e.id,staticClass:"list-item"},[r("Order",{attrs:{order:e}})],1)})),0):e._e()])])],1)],1)},h=[],v=(r("99af"),r("e25e"),r("53ca"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",{staticClass:"modal-header"},[e._t("header",[e._v(" This is default title ")]),a("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close modal"},on:{click:e.close}},[a("img",{attrs:{src:r("bf37"),width:"12px",height:"12px",alt:""}})])],2),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[e._t("body",[e._v("This is default body")])],2)])])])])}),m=[],y={name:"modal",methods:{close:function(){this.$emit("close")}}},O=y,g=(r("140d"),r("2877")),_=Object(g["a"])(O,v,m,!1,null,"70f4f6dc",null),w=_.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item-wrapper"},[r("a",{attrs:{href:"/"}}),r("div",{staticClass:"item-content"},[r("div",[r("div",{staticClass:"item-grid"},[r("div",{staticClass:"order grid-item"},[r("span",[r("a",{attrs:{href:"/"}},[r("span",[e._v(e._s(e.order.name))])])])]),r("div",{staticClass:"order-date grid-item"},[r("div",[e._v(e._s(e.order.created_at))])]),r("div",{staticClass:"customer grid-item"},[r("div",[e._v(e._s((e.order.customer?e.order.customer.first_name:"")+" "+(e.order.customer?e.order.customer.last_name:"")))]),r("div",{staticClass:"customer-link"})]),r("div",{staticClass:"payment grid-item"},[r("polaris-badge",{attrs:{status:"PENDING"===e.order.payment_status?"warning":"default"}},[e._v(e._s(e._f("capitalize")(e.order.payment_status)))])],1),r("div",{staticClass:"fulfillment grid-item"},[r("polaris-badge",{attrs:{status:"UNFULFILLED"===e.order.fulfillment_status?"attention":"default"}},[e._v(e._s(e._f("capitalize")(e.order.fulfillment_status)))])],1),r("div",{staticClass:"total grid-item"},[r("span",[e._v("$ "+e._s(e.order.total_price))])]),r("div",{staticClass:"fulfilled-by grid-item"},[r("polaris-select",{attrs:{options:e.fulfillments,placeholder:"Select a courier"},model:{value:e.selectedCourier,callback:function(t){e.selectedCourier=t},expression:"selectedCourier"}})],1),r("div",{staticClass:"order-status grid-item"},[r("polaris-select",{attrs:{options:e.orderStatusOptions,placeholder:"Incomplete"},model:{value:e.selectedStatus,callback:function(t){e.selectedStatus=t},expression:"selectedStatus"}})],1)])])])])},j=[];function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){Object(p["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S={props:["order"],data:function(){return{selectedCourier:"",selectedStatus:""}},computed:P({},Object(d["c"])(["fulfillments","orderStatusOptions"])),methods:P({},Object(d["b"])(["updateOrder","updateOrderStatus"]),{watchSelectedCourier:function(e){var t=this;console.log(e);var r=P({},this.order,{fulfilled_by_courier_key:"fulfillment_by",fulfilled_by_courier:e});this.$http.post("/fulfillment/set-courier",r).then((function(e){var r={order:P({id:t.order.id},e.body)};console.log(e.body),console.log(r),t.updateOrder(r)})).catch((function(e){console.log(e)}))},whatSelectedStatus:function(e){var t=this;console.log(e);var r=P({},this.order,{fulfilled_by_courier_key:"order_status",fulfilled_by_courier:e});this.$http.post("/fulfillment/set-courier",r).then((function(e){var r={order:P({id:t.order.id},e.body)};console.log(e.body),console.log(r),t.updateOrder(r)})).catch((function(e){console.log(e)}))}}),mounted:function(){console.log(this.order),this.selectedCourier=this.order.fulfilled_by?this.order.fulfilled_by:"Unfulfilled",this.selectedStatus=this.order.order_status?this.order.order_status:"Incomplete",this.$watch("selectedCourier",this.watchSelectedCourier),this.$watch("selectedStatus",this.whatSelectedStatus)}},D=S,x=(r("352b"),Object(g["a"])(D,C,j,!1,null,"08e5d122",null)),E=x.exports;function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){Object(p["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I={data:function(){return{disabled:!1}},components:{Modal:w,Order:E},computed:$({},Object(d["c"])(["orders"])),methods:{dateFormater:function(e){return e?"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()):null},onFulfillChange:function(e,t){}}},M=I,G=(r("f5d0"),Object(g["a"])(M,b,h,!1,null,"b46a2cba",null)),z=G.exports;function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){Object(p["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={name:"app",data:function(){return{show:!1,dateRange:{start:null,end:null},download:{downloadable:!1,link:""}}},components:{Orders:z,GenerateComponent:w},computed:T({},Object(d["c"])(["orders"])),methods:T({},Object(d["b"])(["setOrders"]),{showModal:function(){this.show=!0},closeModal:function(){this.show=!1,this.dateRange.start=null,this.dateRange.end=null},generateReportByDate:function(){var e=this;this.download.downloadable=!1,this.download.link="";var t={startDate:this.dateRange.start,endDate:this.dateRange.end};if(!this.dateRange.start&&!this.dateRange.end)throw new Error("Please select a date range");this.$http.post("/orders/generate-report",t).then((function(t){e.download.downloadable=!0,e.download.link=t.body.download_link})).catch((function(e){console.log(e)}))},generateReport:function(){var e=this;this.download.downloadable=!1,this.download.link="",this.$http.post("/orders/generate-report",{}).then((function(t){e.download.downloadable=!0,e.download.link=t.body.download_link})).catch((function(e){console.log(e)}))}}),mounted:function(){var e=this;this.$http.get("/orders/get-orders").then((function(t){e.setOrders(t.body)}))}},U=N,L=(r("034f"),Object(g["a"])(U,u,f,!1,null,null,null)),V=L.exports;a["default"].config.productionTip=!1,a["default"].use(o["a"]),a["default"].use(n.a),a["default"].use(l.a,{componentPrefix:"vc"}),a["default"].filter("capitalize",(function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()):""})),new a["default"]({store:c,render:function(e){return e(V)}}).$mount("#app")},"5adb":function(e,t,r){},"734c":function(e,t,r){},"85ec":function(e,t,r){},bf37:function(e,t,r){e.exports=r.p+"img/close.4c4ce35d.svg"},e353:function(e,t,r){},f5d0:function(e,t,r){"use strict";var a=r("5adb"),o=r.n(a);o.a}});
//# sourceMappingURL=app.06346a35.js.map